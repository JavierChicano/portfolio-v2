---
import Breadcrumb from "@/components/Breadcrumb.astro";
import Mind2MindAjax from "@/components/CopyPaste/Mind2MindAjax.astro";
import Mind2MindJS from "@/components/CopyPaste/Mind2MindJS.astro";
import Mind2MindPhp from "@/components/CopyPaste/Mind2MindPhp.astro";
import HerramientasSection from "@/components/HerramientasSection.astro";
import ExternalLinkIcon from "@/components/svg/ExternalLinkIcon.astro";
import Layout from "@/layouts/Layout.astro";
---

<Layout>
  <section class="flex flex-col w-full mt-12 items-center">
    <div class="w-full max-w-7xl px-6 flex flex-col gap-4">
      <Breadcrumb pagina="Mind2Mind" />
      <div class="w-full border-b border-gray flex justify-between flex-wrap">
        <h1 class="text-3xl flex gap-2">
          Proyecto<span class="text-primary-blue">Mind2Mind</span>
        </h1>
        <a
          href="https://github.com/JavierChicano/Mind2Mind"
          target="_blank"
          class="flex gap-2 items-center text-xl text-gray-500 sm:text-white"
          >GitHub del proyecto<ExternalLinkIcon /></a
        >
      </div>
      <article>
        <p>
          Proyecto que ofrece una representación realista y funcional de un
          sitio web sobre el tratamiento del trastorno bipolar.
        </p>
        <p>
          Todos los datos, incluyendo información sobre terapias, especialistas,
          etc., así como los generados por el usuario, son almacenados en una
          base de datos local.
        </p>
        <p>
          Pudiendo así ofrecer la funcionalidad de perfil, que permite a los
          usuarios modificar sus datos, añadir terapias a favoritos, solicitar
          citas y comunicarse con especialistas a través de un chat.
        </p>
      </article>
      <section class="w-full border-y border-gray grid grid-cols-1 lg:grid-cols-2">
        <a
          class="flex flex-col gap-2 p-4 items-center group"
          href="https://javierchicano.github.io/Mind2Mind/"
          target="_blank"
        >
          <h2 class="text-2xl flex gap-2 items-end">
            Link al proyecto <ExternalLinkIcon size={24} />
          </h2>
          <div class="max-w-lg w-full">
            <img
              src="/Proyectos/Mind2Mind2.webp"
              alt="Foto del proyecto Sacoba"
              class="w-full h-auto transition-all duration-300 group-hover:drop-shadow-primary-blue rounded-lg object-contain"
            />
          </div>
        </a>
        <div class="flex flex-col gap-2 p-4 items-center">
          <h2 class="text-2xl">Herramientas</h2>
          <div class="flex flex-col gap-4 h-full justify-center">
            <HerramientasSection
              img="/Lenguajes/html.webp"
              texto="Maquetacion de la web"
            />
            <HerramientasSection
              img="/Lenguajes/css.webp"
              texto="Estilos css de la página"
            />
            <HerramientasSection
              img="/Lenguajes/ts.webp"
              texto="Gestión de la lógica de la página"
            />
            <HerramientasSection
              img="/Lenguajes/js.webp"
              texto="Gestión de la lógica"
            />
            <HerramientasSection
              img="/Lenguajes/php.webp"
              texto="Gestión de la Base de datos y sus consultas"
            />
          </div>
        </div>
      </section>
      <h2 class="self-center text-2xl mt-8">Funcionamiento interno</h2>
      <!-- Primera explicacion -->
      <div
        class="flex justify-around gap-12 sm:gap-20 p-4 pb-8 border-b border-gray sm:flex-row flex-col"
      >
        <Mind2MindJS />

        <p class="sm:w-1/2 self-center">
          Una vez que el usuario envía el formulario con sus datos, el código
          JavaScript captura los valores de los campos y los valida. Una vez
          confirmada su corrección, invoca el método
          <span class="italic"> insertarRegistro,</span> pasando como parámetros
          las variables que contienen los valores de los campos del formulario.
        </p>
      </div>
      <!-- Segunda explicacion -->
      <div
        class="flex justify-around gap-12 sm:gap-20 p-4 pb-8 border-b border-gray sm:flex-row flex-col"
      >
        <aside class="sm:w-1/2 self-center order-2 sm:order-none">
          Este es el método{" "}
          <span class="italic"> insertarRegistro,</span> que utiliza la función $.ajax()
          de jQuery para enviar datos al archivo php especificado, a través del método
          POST.
          <p class="my-4">
            El nombre <span class="italic"> function,</span> corresponde al caso
            concreto del switch de casos que contiene el archivo php.
          </p>
          <p>
            Cuando se completa la solicitud con éxito, se verifica la respuesta
            del servidor y se establecen algunas variables de sesión mediante <span
              class="italic">sessionStorage</span
            > y se redirige al usuario a la página perfil/perfilMain.html
          </p>
        </aside>
        <Mind2MindAjax />
      </div>
      <!-- Tercera explicacion -->
      <div
        class="flex justify-around gap-12 sm:gap-20 p-4 pb-8 border-b border-gray sm:flex-row flex-col"
      >
        <Mind2MindPhp />

        <aside class="sm:w-1/3 self-center">
          Obteniendo las variables, comprueba con un select a la bbdd si el
          usuario existe, si existe pasa el siguiente mensage al ajax &quot
          Correo electronico ya registrado&quot, en el caso de que no exista lo
          inserta en la tabla paciente e imprime el mensaje &quotResgistro
          exitoso&quot
          <p class="my-4">
            Por ultimo pasa <span class="italic">$response</span> al ajax por medio
            de <span class="italic">json_encode</span>
          </p>
        </aside>
      </div>
    </div>
  </section>
</Layout>
